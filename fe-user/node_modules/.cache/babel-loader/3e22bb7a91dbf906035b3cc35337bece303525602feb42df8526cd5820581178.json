{"ast":null,"code":"var _jsxFileName = \"D:\\\\0_tai_lieu_mon_hoc\\\\HocLai\\\\PTHTTM\\\\ShoeStore-3012\\\\fe-user\\\\src\\\\components\\\\ProductCard\\\\ProductCard.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiStar, FiShoppingCart } from 'react-icons/fi';\nimport { useCart } from '../../contexts/CartContext';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { toast } from 'react-toastify';\nimport './ProductCard.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\nconst ProductCard = ({\n  product\n}) => {\n  _s();\n  var _product$brand;\n  const {\n    addToCart\n  } = useCart();\n  const {\n    isAuthenticated\n  } = useAuth();\n  const formatPrice = price => {\n    return new Intl.NumberFormat('vi-VN', {\n      style: 'currency',\n      currency: 'VND'\n    }).format(price);\n  };\n  const handleAddToCart = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isAuthenticated) {\n      toast.info('Vui lòng đăng nhập để thêm vào giỏ hàng');\n      return;\n    }\n\n    // Note: This requires selecting a variant first\n    // In a real app, you might redirect to product detail page\n    toast.info('Vui lòng chọn size và màu sắc');\n  };\n  const renderStars = rating => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(/*#__PURE__*/_jsxDEV(FiStar, {\n        className: i <= Math.round(rating) ? 'star filled' : 'star'\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this));\n    }\n    return stars;\n  };\n  const imageUrl = product.primaryImage ? `${API_URL}${product.primaryImage}` : '/placeholder-shoe.png';\n  return /*#__PURE__*/_jsxDEV(Link, {\n    to: `/products/${product.id}`,\n    className: \"product-card\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-image\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        alt: product.name,\n        onError: e => {\n          e.target.src = '/placeholder-shoe.png';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), product.totalStock === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"out-of-stock-badge\",\n        children: \"H\\u1EBFt h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"product-name\",\n        children: product.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"product-brand\",\n        children: (_product$brand = product.brand) === null || _product$brand === void 0 ? void 0 : _product$brand.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-rating\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stars\",\n          children: renderStars(product.avgRating || 0)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), product.reviewCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"review-count\",\n          children: [\"(\", product.reviewCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-price\",\n        children: product.minPrice !== product.maxPrice ? /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [formatPrice(product.minPrice), \" - \", formatPrice(product.maxPrice)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n          children: formatPrice(product.basePrice)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-to-cart-btn\",\n        onClick: handleAddToCart,\n        disabled: product.totalStock === 0,\n        children: [/*#__PURE__*/_jsxDEV(FiShoppingCart, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Xem chi ti\\u1EBFt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(ProductCard, \"R+5gDCfglZHk3yR0YIp0MZRGdu0=\", false, function () {\n  return [useCart, useAuth];\n});\n_c = ProductCard;\nexport default ProductCard;\nvar _c;\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"names":["React","Link","FiStar","FiShoppingCart","useCart","useAuth","toast","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","ProductCard","product","_s","_product$brand","addToCart","isAuthenticated","formatPrice","price","Intl","NumberFormat","style","currency","format","handleAddToCart","e","preventDefault","stopPropagation","info","renderStars","rating","stars","i","push","className","Math","round","fileName","_jsxFileName","lineNumber","columnNumber","imageUrl","primaryImage","to","id","children","src","alt","name","onError","target","totalStock","brand","avgRating","reviewCount","minPrice","maxPrice","basePrice","onClick","disabled","_c","$RefreshReg$"],"sources":["D:/0_tai_lieu_mon_hoc/HocLai/PTHTTM/ShoeStore-3012/fe-user/src/components/ProductCard/ProductCard.js"],"sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { FiStar, FiShoppingCart } from 'react-icons/fi';\nimport { useCart } from '../../contexts/CartContext';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { toast } from 'react-toastify';\nimport './ProductCard.css';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\n\nconst ProductCard = ({ product }) => {\n    const { addToCart } = useCart();\n    const { isAuthenticated } = useAuth();\n\n    const formatPrice = (price) => {\n        return new Intl.NumberFormat('vi-VN', {\n            style: 'currency',\n            currency: 'VND'\n        }).format(price);\n    };\n\n    const handleAddToCart = async (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        if (!isAuthenticated) {\n            toast.info('Vui lòng đăng nhập để thêm vào giỏ hàng');\n            return;\n        }\n\n        // Note: This requires selecting a variant first\n        // In a real app, you might redirect to product detail page\n        toast.info('Vui lòng chọn size và màu sắc');\n    };\n\n    const renderStars = (rating) => {\n        const stars = [];\n        for (let i = 1; i <= 5; i++) {\n            stars.push(\n                <FiStar \n                    key={i} \n                    className={i <= Math.round(rating) ? 'star filled' : 'star'} \n                />\n            );\n        }\n        return stars;\n    };\n\n    const imageUrl = product.primaryImage \n        ? `${API_URL}${product.primaryImage}`\n        : '/placeholder-shoe.png';\n\n    return (\n        <Link to={`/products/${product.id}`} className=\"product-card\">\n            <div className=\"product-image\">\n                <img \n                    src={imageUrl} \n                    alt={product.name}\n                    onError={(e) => {\n                        e.target.src = '/placeholder-shoe.png';\n                    }}\n                />\n                {product.totalStock === 0 && (\n                    <div className=\"out-of-stock-badge\">Hết hàng</div>\n                )}\n            </div>\n            \n            <div className=\"product-info\">\n                <h3 className=\"product-name\">{product.name}</h3>\n                <p className=\"product-brand\">{product.brand?.name}</p>\n                \n                <div className=\"product-rating\">\n                    <div className=\"stars\">\n                        {renderStars(product.avgRating || 0)}\n                    </div>\n                    {product.reviewCount > 0 && (\n                        <span className=\"review-count\">({product.reviewCount})</span>\n                    )}\n                </div>\n                \n                <div className=\"product-price\">\n                    {product.minPrice !== product.maxPrice ? (\n                        <span>{formatPrice(product.minPrice)} - {formatPrice(product.maxPrice)}</span>\n                    ) : (\n                        <span>{formatPrice(product.basePrice)}</span>\n                    )}\n                </div>\n                \n                <button \n                    className=\"add-to-cart-btn\"\n                    onClick={handleAddToCart}\n                    disabled={product.totalStock === 0}\n                >\n                    <FiShoppingCart />\n                    <span>Xem chi tiết</span>\n                </button>\n            </div>\n        </Link>\n    );\n};\n\nexport default ProductCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}